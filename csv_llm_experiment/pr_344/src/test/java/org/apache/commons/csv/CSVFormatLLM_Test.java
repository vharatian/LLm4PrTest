package org.apache.commons.csv;

import static org.apache.commons.csv.CSVFormat.RFC4180;
import static org.apache.commons.csv.Constants.CR;
import static org.apache.commons.csv.Constants.CRLF;
import static org.apache.commons.csv.Constants.LF;
import static org.junit.jupiter.api.Assertions.assertArrayEquals;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertFalse;
import static org.junit.jupiter.api.Assertions.assertNotNull;
import static org.junit.jupiter.api.Assertions.assertNotSame;
import static org.junit.jupiter.api.Assertions.assertNull;
import static org.junit.jupiter.api.Assertions.assertThrows;
import static org.junit.jupiter.api.Assertions.assertTrue;
import static org.junit.jupiter.api.Assertions.fail;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.io.Reader;
import java.io.StringReader;
import java.lang.reflect.Method;
import java.lang.reflect.Modifier;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.time.Instant;
import java.util.Arrays;
import java.util.Objects;

import org.apache.commons.csv.CSVFormat.Builder;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

public class CSVFormatLLM_Test {

    /**
     * Test setting header comments with a comment marker.
     */
    @Test
    public void testSetHeaderCommentsWithCommentMarker() {
        final CSVFormat format = CSVFormat.DEFAULT.builder()
                .setCommentMarker('#')
                .setHeaderComments("Generated by Apache Commons CSV", Instant.ofEpochMilli(0))
                .build();
        assertNotNull(format.getHeaderComments());
        assertArrayEquals(new String[]{"Generated by Apache Commons CSV", "1970-01-01T00:00:00Z"}, format.getHeaderComments());
    }

    /**
     * Test setting header comments without a comment marker.
     */
    @Test
    public void testSetHeaderCommentsWithoutCommentMarker() {
        final CSVFormat format = CSVFormat.DEFAULT.builder()
                .setHeaderComments("Generated by Apache Commons CSV", Instant.ofEpochMilli(0))
                .build();
        assertNull(format.getHeaderComments());
    }

    /**
     * Test setting header comments with a comment marker using String array.
     */
    @Test
    public void testSetHeaderCommentsWithCommentMarkerStringArray() {
        final CSVFormat format = CSVFormat.DEFAULT.builder()
                .setCommentMarker('#')
                .setHeaderComments("Generated by Apache Commons CSV", Instant.ofEpochMilli(0).toString())
                .build();
        assertNotNull(format.getHeaderComments());
        assertArrayEquals(new String[]{"Generated by Apache Commons CSV", "1970-01-01T00:00:00Z"}, format.getHeaderComments());
    }

    /**
     * Test setting header comments without a comment marker using String array.
     */
    @Test
    public void testSetHeaderCommentsWithoutCommentMarkerStringArray() {
        final CSVFormat format = CSVFormat.DEFAULT.builder()
                .setHeaderComments("Generated by Apache Commons CSV", Instant.ofEpochMilli(0).toString())
                .build();
        assertNull(format.getHeaderComments());
    }
}